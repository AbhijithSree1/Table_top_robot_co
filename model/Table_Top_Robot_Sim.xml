<mujoco model="four_wheel_base">
	<option timestep="0.001" gravity="0 0 0" cone="pyramidal" integrator="RK4"/>

	<worldbody>
		<geom name="floor" type="plane" size="10 10 0.1" rgba="0.7 0.7 0.7 1"
			friction="1.0 0.01 0.001"/>

		<!-- table -->
		<body name="table" pos="0 0 2">
		<geom name="table_top" type="box" size="2 2 2" rgba="0.9 0.2 0.2 1"
                  friction="0.8 0.01 0.001"
                  solref="0.02 1" solimp="0.9 0.95 0.002"
                  contype="1" conaffinity="3"/>

		</body>

		<!-- 4-wheel robot -->
		<body name="car" pos="0 0 5.15">
			<freejoint name="chassis_free"/>

			<!-- robot chassis -->
			<geom name="chassis" type="box" size="0.4 0.4 0.1" pos="0 0 0.20"
					mass="20" rgba="0.2 0.6 0.2 1" contype="1" conaffinity="1"/>

			<site name="chassis_site" pos="0 0 0" size="0.01"/>

			<!-- wheel params -->
			<!-- wheel radius=0.15, wheel width half=0.05 wheel mass=2-->
			<!-- Track length 0.7, wheelbase 0.54 -->

			<body name="directionIndicator" pos="0.4 0 0.3">
				<geom name="direction" type="cylinder" size="0.05 0.01" euler="0 0 90" rgba="0.3 0.2 0.2 1"/>
			</body>

			<body name="wheel_fl" pos=" 0.28  0.35 0">
				<joint name="j_fl" type="hinge" axis="0 1 0" limited="false" damping="0.2" armature="0.002"/>
				<geom name="g_fl" type="cylinder" size="0.15 0.05" euler="90 0 0"
					mass="2" friction="1.0 0.01 0.001" condim="3" solref="0.02 1" solimp="0.9 0.95 0.002"
						rgba="0.1 0.1 0.1 1" contype="2" conaffinity="3"/>
			</body>

			<body name="wheel_fr" pos=" 0.28 -0.35 0">
				<joint name="j_fr" type="hinge" axis="0 1 0" limited="false" damping="0.2" armature="0.002"/>
				<geom name="g_fr" type="cylinder" size="0.15 0.05" euler="90 0 0"
					mass="2" friction="1.0 0.01 0.001" condim="3" solref="0.02 1" solimp="0.9 0.95 0.002"
						rgba="0.1 0.1 0.1 1" contype="2" conaffinity="3"/>
			</body>

			<body name="wheel_rl" pos="-0.28  0.35 0">
				<joint name="j_rl" type="hinge" axis="0 1 0" limited="false" damping="0.2" armature="0.002"/>
				<geom name="g_rl" type="cylinder" size="0.15 0.05" euler="90 0 0"
					mass="2" friction="1.0 0.01 0.001" condim="3" solref="0.02 1" solimp="0.9 0.95 0.002"
						rgba="0.1 0.1 0.1 1" contype="2" conaffinity="3"/>
			</body>

			<body name="wheel_rr" pos="-0.28 -0.35 0">
				<joint name="j_rr" type="hinge" axis="0 1 0" limited="false" damping="0.2" armature="0.002"/>
				<geom name="g_rr" type="cylinder" size="0.15 0.05" euler="90 0 0"
					mass="2" friction="1.0 0.01 0.001" condim="3" solref="0.02 1" solimp="0.9 0.95 0.002"
						rgba="0.1 0.1 0.1 1" contype="2" conaffinity="3"/>
			</body>
		</body>
	</worldbody>

	<actuator>
		<motor  name="m_fl" joint="j_fl" gear="10" ctrlrange="-1 1"/>
		<motor  name="m_fr" joint="j_fr" gear="10" ctrlrange="-1 1"/>
		<motor  name="m_rl" joint="j_rl" gear="10" ctrlrange="-1 1"/>
		<motor  name="m_rr" joint="j_rr" gear="10" ctrlrange="-1 1"/>
	</actuator>
	
	<sensor>
		<!-- Chassis pose (MAP frame) -->
		<framepos  name="chassis_pos"  objtype="site" objname="chassis_site"/>
		<framequat name="chassis_quat" objtype="site" objname="chassis_site"/>

		<!-- wheel angular speeds -->
		<jointvel name="w_fl" joint="j_fl"/>
		<jointvel name="w_fr" joint="j_fr"/>
		<jointvel name="w_rl" joint="j_rl"/>
		<jointvel name="w_rr" joint="j_rr"/>
	</sensor>
  
</mujoco>
